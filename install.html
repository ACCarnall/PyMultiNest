
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Installing PyMultiNest and PyCuba &#8212; pymultinest 2.6 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="PyMultiNest" href="pymultinest.html" />
    <link rel="prev" title="Welcome to pymultinest’s documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pymultinest.html" title="PyMultiNest"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to pymultinest’s documentation!"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pymultinest 2.6 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installing-pymultinest-and-pycuba">
<h1><a class="toc-backref" href="#id1">Installing PyMultiNest and PyCuba</a><a class="headerlink" href="#installing-pymultinest-and-pycuba" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#installing-pymultinest-and-pycuba" id="id1">Installing PyMultiNest and PyCuba</a><ul>
<li><a class="reference internal" href="#installing-the-python-module" id="id2">1. Installing the Python Module</a></li>
<li><a class="reference internal" href="#prerequisites-for-building-the-libraries" id="id3">2. Prerequisites for building the libraries</a></li>
<li><a class="reference internal" href="#building-the-libraries" id="id4">2. Building the libraries</a></li>
<li><a class="reference internal" href="#running-some-code" id="id5">3. Running some code</a></li>
<li><a class="reference internal" href="#getting-help" id="id6">Getting help</a></li>
<li><a class="reference internal" href="#generating-the-documentation" id="id7">Generating the documentation</a></li>
</ul>
</li>
</ul>
</div>
<p>You need to install the python module and put the libraries it uses
into your library path.</p>
<div class="section" id="installing-the-python-module">
<h2><a class="toc-backref" href="#id2">1. Installing the Python Module</a><a class="headerlink" href="#installing-the-python-module" title="Permalink to this headline">¶</a></h2>
<p>Installing the python module from PyPI is easy:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pip install pymultinest
</pre></div>
</div>
<ul class="simple">
<li>Use the “–user” switch if you only want to install the software locally</li>
<li>On older systems, you may need to use easy_install instead of “pip install”</li>
</ul>
<p>To get the latest version, download the source directly from the
<a class="reference external" href="https://github.com/JohannesBuchner/PyMultiNest/">Code repository</a>
and install it locally:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ git clone https://github.com/JohannesBuchner/PyMultiNest/
$ <span class="nb">cd</span> PyMultiNest
$ python setup.py install
</pre></div>
</div>
<p>However, installing pymultinest is not enough; MultiNest and Cuba are not included, so you
will see an error like:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>ERROR:   Could not load MultiNest library &quot;libmultinest.so&quot;
ERROR:   You have to build it first, and point the LD_LIBRARY_PATH environment variable to it!
</pre></div>
</div>
<p>or:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="ne">OSError</span><span class="p">:</span> <span class="n">libcuba</span><span class="o">.</span><span class="n">so</span><span class="p">:</span> <span class="n">cannot</span> <span class="nb">open</span> <span class="n">shared</span> <span class="nb">object</span> <span class="n">file</span><span class="p">:</span> <span class="n">No</span> <span class="n">such</span> <span class="n">file</span> <span class="ow">or</span> <span class="n">directory</span>
</pre></div>
</div>
<p>You need to install the libraries themselves! The next section explains how.</p>
</div>
<div class="section" id="prerequisites-for-building-the-libraries">
<h2><a class="toc-backref" href="#id3">2. Prerequisites for building the libraries</a><a class="headerlink" href="#prerequisites-for-building-the-libraries" title="Permalink to this headline">¶</a></h2>
<p>To use PyMultiNest and PyCuba, you need to install the relevant
libraries. If you only want to use one of them, skip the others according.</p>
<ul class="simple">
<li>Prerequisites: <em>numpy</em>, <em>scipy</em>, <em>matplotlib</em>, c and fortran compilers (e.g. <em>gcc</em>, <em>gfortran</em>)</li>
<li>Prerequisites for MultiNest: <em>cmake</em>, <em>blas</em>, <em>lapack</em>, <em>atlas</em> (and their development versions)</li>
<li>Recommended: <em>git</em></li>
</ul>
<p>On <strong>Ubuntu Linux</strong>, install with:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ sudo apt-get install python-<span class="o">{</span>scipy,numpy,matplotlib,progressbar<span class="o">}</span> ipython libblas<span class="o">{</span><span class="m">3</span>,-dev<span class="o">}</span> liblapack<span class="o">{</span><span class="m">3</span>,-dev<span class="o">}</span> libatlas<span class="o">{</span><span class="m">3</span>-base,-dev<span class="o">}</span> cmake build-essential git gfortran
</pre></div>
</div>
<p>On <strong>Mac OSX</strong>:</p>
<ul class="simple">
<li>As in the instructions above, you need cmake and a Fortran compiler.</li>
<li>If you google for “MultiNest Mac OSX” or “PyMultiNest Mac OSX” you will find installation instructions.</li>
</ul>
</div>
<div class="section" id="building-the-libraries">
<h2><a class="toc-backref" href="#id4">2. Building the libraries</a><a class="headerlink" href="#building-the-libraries" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">If you want to use <a class="reference internal" href="pymultinest.html"><span class="doc">PyMultiNest</span></a>:</p>
<ul>
<li><p class="first">Get and compile MultiNest (use the cmake version from <cite>https://github.com/JohannesBuchner/MultiNest</cite>). The goal is to create lib/libmultinest.so</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">JohannesBuchner</span><span class="o">/</span><span class="n">MultiNest</span>
<span class="n">cd</span> <span class="n">MultiNest</span><span class="o">/</span><span class="n">build</span>
<span class="n">cmake</span> <span class="o">..</span>
<span class="n">make</span>
</pre></div>
</div>
</li>
<li><p class="first">Include the lib/ directory in your LD_LIBRARY_PATH.</p>
</li>
<li><p class="first">More detailed install instructions for MultiNest are available in the <a class="reference external" href="http://johannesbuchner.github.io/pymultinest-tutorial/install.html#on-your-own-computer">tutorial</a>.</p>
</li>
</ul>
</li>
<li><p class="first">If you want to use <a class="reference internal" href="pycuba.html"><span class="doc">PyCuba</span></a>:
Get and compile <a class="reference external" href="http://www.feynarts.de/cuba/">Cuba</a>. The goal is to create the libcuba.so file</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">JohannesBuchner</span><span class="o">/</span><span class="n">cuba</span><span class="o">/</span>
<span class="n">cd</span> <span class="n">cuba</span>
<span class="o">./</span><span class="n">configure</span>
<span class="o">./</span><span class="n">makesharedlib</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Include the containing directory your LD_LIBRARY_PATH.</p>
</li>
<li><p class="first">To install on Mac OSX, make sure the multinest/cuba libraries are in your library path. For that, it is simplest to copy them, e.g.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ cp -v ~/Downloads/MultiNest/lib/lib* /anaconda3/lib/
</pre></div>
</div>
</li>
</ul>
<p>A discussion on installing on Mac can be found in <a class="reference external" href="https://github.com/JohannesBuchner/PyMultiNest/issues/10">issue 10</a>. Compiling with MPI support on Mac is discussed in <a class="reference external" href="https://github.com/JohannesBuchner/PyMultiNest/issues/45">issue 45</a></p>
</div>
<div class="section" id="running-some-code">
<h2><a class="toc-backref" href="#id5">3. Running some code</a><a class="headerlink" href="#running-some-code" title="Permalink to this headline">¶</a></h2>
<p>PyMultiNest and PyCuba have to be able to find the corresponding
libraries. So put the three directories in the dynamic library load path:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ <span class="nb">export</span> <span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="nv">$HOME</span>/Downloads/MultiNest/lib:<span class="nv">$HOME</span>/Downloads/cuba/directory/:<span class="nv">$LD_LIBRARY_PATH</span>
</pre></div>
</div>
<ul class="simple">
<li>Replace the above with your actual path.</li>
<li>Consider putting this line into your shell startup script (e.g. ~/.bashrc).</li>
</ul>
<p>Test importing the libraries:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ python -c <span class="s1">&#39;import pymultinest&#39;</span>
$ python -c <span class="s1">&#39;import pycuba&#39;</span>
</pre></div>
</div>
<p>Try out the demo programs distributed in the package:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ python <span class="nv">$OLDPWD</span>/pymultinest_demo.py
   ....
   Acceptance Rate:                        <span class="m">0</span>.690765
   Replacements:                               <span class="m">3650</span>
   Total Samples:                              <span class="m">5284</span>
   Nested Sampling ln<span class="o">(</span>Z<span class="o">)</span>:                <span class="m">235</span>.562844
   Importance Nested Sampling ln<span class="o">(</span>Z<span class="o">)</span>:     <span class="m">236</span>.164929 +/-  <span class="m">0</span>.147246
   Acceptance Rate:                        <span class="m">0</span>.690809
   Replacements:                               <span class="m">3653</span>
   Total Samples:                              <span class="m">5288</span>
   Nested Sampling ln<span class="o">(</span>Z<span class="o">)</span>:                <span class="m">235</span>.565469
   Importance Nested Sampling ln<span class="o">(</span>Z<span class="o">)</span>:     <span class="m">236</span>.165091 +/-  <span class="m">0</span>.147221
    ln<span class="o">(</span>ev<span class="o">)=</span>   <span class="m">235</span>.91594564793959      +/-  <span class="m">0</span>.12311459261215110
    Total Likelihood Evaluations:         <span class="m">5288</span>
    Sampling finished. Exiting MultiNest
     analysing data from chains/3-.txt

   evidence: <span class="m">235</span>.9 +- <span class="m">0</span>.1

   parameter values:
                 x : <span class="m">15</span>.968 +- <span class="m">8</span>.548
                 y : <span class="m">15</span>.165 +- <span class="m">9</span>.195

$ python <span class="nv">$OLDPWD</span>/pymultinest_solver_demo.py

$ python <span class="nv">$OLDPWD</span>/pycuba_demo.py
</pre></div>
</div>
<p>Congratulations! You are now ready to run your own code. Copy the demo files as starting points, play with the functions and analysis, and integrate it to your own code. The documentation should help you:</p>
<ul class="simple">
<li>Continue with <a class="reference internal" href="pymultinest.html"><span class="doc">PyMultiNest documentation</span></a></li>
<li>Continue with <a class="reference internal" href="pycuba.html"><span class="doc">PyCuba documentation</span></a></li>
</ul>
</div>
<div class="section" id="getting-help">
<h2><a class="toc-backref" href="#id6">Getting help</a><a class="headerlink" href="#getting-help" title="Permalink to this headline">¶</a></h2>
<p>Try searching the error message. Search through the <a class="reference external" href="https://github.com/JohannesBuchner/PyMultiNest/issues?q=">existing questions</a>.</p>
</div>
<div class="section" id="generating-the-documentation">
<h2><a class="toc-backref" href="#id7">Generating the documentation</a><a class="headerlink" href="#generating-the-documentation" title="Permalink to this headline">¶</a></h2>
<p>Go in the doc directory and run make:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> doc <span class="o">&amp;&amp;</span> make html
</pre></div>
</div>
<p>Point your web browser to _build/html/index.html in doc.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installing PyMultiNest and PyCuba</a><ul>
<li><a class="reference internal" href="#installing-the-python-module">1. Installing the Python Module</a></li>
<li><a class="reference internal" href="#prerequisites-for-building-the-libraries">2. Prerequisites for building the libraries</a></li>
<li><a class="reference internal" href="#building-the-libraries">2. Building the libraries</a></li>
<li><a class="reference internal" href="#running-some-code">3. Running some code</a></li>
<li><a class="reference internal" href="#getting-help">Getting help</a></li>
<li><a class="reference internal" href="#generating-the-documentation">Generating the documentation</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to pymultinest’s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="pymultinest.html"
                        title="next chapter">PyMultiNest</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/install.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pymultinest.html" title="PyMultiNest"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to pymultinest’s documentation!"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pymultinest 2.6 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2013-2017, Johannes Buchner.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.7.
    </div>
  </body>
</html>